{% extends "base.html" %} {% block title %}Chat | TopperTutor{% endblock %} {%
block css %}
<link
  rel="stylesheet"
  href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.8.0/styles/vs2015.min.css"
/>
<link
  rel="stylesheet"
  href="{{ url_for('static', filename='css/conversation.css') }}"
>
{% endblock %} {% block body %}
<div id="main-layout">
  <div id="sidebar" class="montserrat">
    <h2>CONVERSATIONS</h2>
    <button
      id="new-conversation-btn"
      class="new-conversation-btn"
      onclick="createNewConversation()"
    >
      + New Conversation
    </button>
    <div id="sidebar-messages"></div>
  </div>

  <div id="main">
    <div id="chat-container"></div>

    <div
      style="display: none; width: 100%; background-color: white; border-top: 1px solid #000000"
      id="limitInformation"
    >
      <ul id="limitList"></ul>
    </div>
    <div id="message-input">
      <form id="input-form" onsubmit="sendMessage(event)">
        <button
          type="button"
          class="montserrat"
          id="showLimitsButton"
          onclick="showLimits(event)"
        >
          Show Limits
        </button>
        <button
          type="button"
          class="montserrat"
          id="hideLimitsButton"
          onclick="hideLimits(event)"
          style="display: none"
        >
          Hide Limits
        </button>
        <textarea
          id="userMessage"
          rows="2"
          class="montserrat"
          placeholder="Type your message..."
        ></textarea>
        <button type="submit" id="sendButton" class="montserrat">Send</button>

        <button type="button" id="redirectButton" class="montserrat" onclick="openPopup()">
          Upload Image
        </button>

        <div class="popup" id="popup">
            <h2>Scan Document</h2>
            <p>Upload a picture of your math problem using the "Upload Image" button. Then, the text of the image will appear in the text box below, and you can copy the text for your next question. Make sure to check for any mistakes made while scanning your image. </p>

            <button type="Upload" class="btn">
                Upload Image
            </button>

            <button type="button" onclick="copyText()">
                Copy Text
            </button>

            <textarea id="textToCopyButton" rows="4" cols="50" readonly>
This is a test
            </textarea>

            <button type="button" onclick="closePopup()">
                Close
            </button>

      </form>
    </div>
  </div>
</div>
{% endblock %} {% block scripts %}
<script src="https://cdn.jsdelivr.net/npm/showdown/dist/showdown.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.8.0/highlight.min.js"></script>
<script src="{{ url_for('static', filename='js/conversation.js') }}"></script>
{% endblock %}
